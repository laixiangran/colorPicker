!function(t){var e=function(t){this.initialize(t)};e.prototype={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},initialize:function(t){this.setOptions(t),this.drawPicker(t.textInput_id)},setOptions:function(t){this.options={id:"colorpicker"+(new Date).getTime(),textInput_id:null},this.extend(this.options,t||{})},ID:function(t){return document.getElementById(t)},TN:function(t){return document.getElementsByTagName(t)},CE:function(t){return document.createElement(t)},getCSS:function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null)[e]},rgbToHex:function(t){if(/^(rgb|RGB)/.test(t)){for(var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",o=0;o<e.length;o++){var r=Number(e[o]).toString(16);"0"===r&&(r+=r),n+=r}return n}},hide:function(t){t.style.display="none"},show:function(t){t.style.display="block"},colorPickerHtml:function(){var t=["FF","CC","99","66","33","00"],e=[],n=function(t,e,n,o){t.push("<td "),t.push('style="background-color: #'+e+n+o+';"'),t.push('title="#'+e+n+o+'"'),t.push("></td>")},o=function(e,o,r){e.push("<tr>");for(var i=0;6>i;++i)n(e,o,t[i],r);e.push("</tr>")},r=function(e,n){e.push('<table class="cell">');for(var r=0;6>r;++r)o(e,t[r],n);e.push("</table>")};e.push("<table><tr>");for(var i=0;3>i;++i)e.push("<td>"),r(e,t[i]),e.push("</td>");e.push("</tr><tr>");for(var u=3;6>u;++u)e.push("<td>"),r(e,t[u]),e.push("</td>");return e.push("</tr></table>"),e.push('<table id="color_result"><tr><td id="color_view"></td><td id="color_code"></td></tr></table>'),e.join("")},addEvent:function(t,e,n){t.attachEvent?(t["e"+e+n]=n,t.attachEvent("on"+e,function(){t["e"+e+n]()})):t.addEventListener(e,n,!1)},drawPicker:function(e){var n=this,o=n.ID(e),r=n.CE("div");r.className="colorpicker",r.innerHTML=n.colorPickerHtml(),o.parentNode.insertBefore(r,null),n.hide(r),n.addEvent(o,"focus",function(){o.style.position="relative",n.show(r);var t=o.offsetLeft+"px",e=o.clientHeight+o.offsetTop+"px";r.style.left=t,r.style.top=e,r.style.width=n.getCSS(o,"width")}),n.addEvent(r,"mouseover",function(){var e=arguments[0]||t.event,o=e.srcElement?e.srcElement:e.target,r=o.nodeName.toLowerCase(),i=n.ID("color_view"),u=n.ID("color_code");"td"==r&&(i.style.backgroundColor=o.style.backgroundColor,u.innerText=n.rgbToHex(o.style.backgroundColor))}),n.addEvent(r,"click",function(){console.log("click");var e=arguments[0]||t.event,i=e.srcElement?e.srcElement:e.target,u=i.nodeName.toLowerCase();"td"==u&&(o.value=n.rgbToHex(i.style.backgroundColor),n.hide(r))})}};var n=!1;"function"==typeof t.jQuery&&(t.$.fn.ColorPicker=e,n=!0),"function"==typeof define&&define.amd&&(define(function(){return e}),n=!0),"undefined"!=typeof module&&module.exports&&(module.exports=e,n=!0),n||(t.ColorPicker=e)}(window);