!function(){var t=ColorPicker=function(t){this.initialize(t)};t.prototype={extend:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},initialize:function(t){this.setOptions(t),this.drawPicker(t.textInput_id)},setOptions:function(t){this.options={id:"colorpicker"+(new Date).getTime(),textInput_id:null},this.extend(this.options,t||{})},ID:function(t){return document.getElementById(t)},TN:function(t){return document.getElementsByTagName(t)},CE:function(t){return document.createElement(t)},getCSS:function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null)[e]},rgbToHex:function(t){if(/^(rgb|RGB)/.test(t)){for(var e=t.replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),n="#",o=0;o<e.length;o++){var r=Number(e[o]).toString(16);"0"===r&&(r+=r),n+=r}return n}},hide:function(t){t.style.display="none"},show:function(t){t.style.display="block"},colorPickerHtml:function(){var t=["FF","CC","99","66","33","00"],e=[],n=function(t,e,n,o){t.push("<td "),t.push('style="background-color: #'+e+n+o+';"'),t.push('title="#'+e+n+o+'"'),t.push("></td>")},o=function(e,o,r){e.push("<tr>");for(var i=0;6>i;++i)n(e,o,t[i],r);e.push("</tr>")},r=function(e,n){e.push('<table class="cell">');for(var r=0;6>r;++r)o(e,t[r],n);e.push("</table>")};e.push("<table><tr>");for(var i=0;3>i;++i)e.push("<td>"),r(e,t[i]),e.push("</td>");e.push("</tr><tr>");for(var l=3;6>l;++l)e.push("<td>"),r(e,t[l]),e.push("</td>");return e.push("</tr></table>"),e.push('<table id="color_result"><tr><td id="color_view"></td><td id="color_code"></td></tr></table>'),e.join("")},addEvent:function(t,e,n){t.attachEvent?(t["e"+e+n]=n,t.attachEvent("on"+e,function(){t["e"+e+n]()})):t.addEventListener(e,n,!1)},drawPicker:function(t){var e=this,n=e.ID(t),o=e.CE("div");o.className="colorpicker",o.innerHTML=e.colorPickerHtml(),n.parentNode.insertBefore(o,null),e.hide(o),e.addEvent(n,"focus",function(){n.style.position="relative",e.show(o);var t=n.offsetLeft+"px",r=n.clientHeight+n.offsetTop+"px";o.style.left=t,o.style.top=r,o.style.width=e.getCSS(n,"width")}),e.addEvent(o,"mouseover",function(){var t=arguments[0]||window.event,n=t.srcElement?t.srcElement:t.target,o=n.nodeName.toLowerCase(),r=e.ID("color_view"),i=e.ID("color_code");"td"==o&&(r.style.backgroundColor=n.style.backgroundColor,i.innerText=e.rgbToHex(n.style.backgroundColor))}),e.addEvent(o,"click",function(){console.log("click");var t=arguments[0]||window.event,r=t.srcElement?t.srcElement:t.target,i=r.nodeName.toLowerCase();"td"==i&&(n.value=e.rgbToHex(r.style.backgroundColor),e.hide(o))})}}}();